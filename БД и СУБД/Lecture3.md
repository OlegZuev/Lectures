# Лекция 3

29.01.20

- [Лекция 3](#Лекция-3)
  - [Особенности БД (продолжение)](#Особенности-БД-продолжение)
  - [Функции СУБД](#Функции-СУБД)
    - [Основные функции ядра СУБД](#Основные-функции-ядра-СУБД)
    - [Основные функции СУБД](#Основные-функции-СУБД)
      - [Транзакции](#Транзакции)
      - [Поддержка ограничений целостности хранимых процедур и триггеров](#Поддержка-ограничений-целостности-хранимых-процедур-и-триггеров)
      - [Хранимые процедуры](#Хранимые-процедуры)
      - [Архивация и восстановление](#Архивация-и-восстановление)
      - [Защита данных от несанкцонированного доступа](#Защита-данных-от-несанкцонированного-доступа)
      - [Дружелюбный интерфейс](#Дружелюбный-интерфейс)

## Особенности БД (продолжение)

БД не хватает:

- индексации
- буферизации
- журналирования
- транзакций

Из ПО выделяется отдельная ветвь: СУБД, CASE-средства, оболочки экспертных систем, системы программирования.

СУБД вводит уровень-прослойку:

Уровни

Внешний уровень
(связь)
Логический уровень
(связь)
Физический уровень

Описание данных не отделено от их использования. А СУБД за счет своей многоуровневой архитектуры (см. лекцию о многоуровневой архитектуры СУБД) позволяет отделить описание данных как от прикладного уровня, так и от уровня физической организации данных, что в свою очередь обеспечивает __логическую и физическую независимость данных__.

_Проходной вопрос: логическая и физическая независимость._

НО! Многоуровневая архитектура СУБД является только необходимым, а не достаточным условием нивелирования перечисленных выше недостатков средств работы с файлами. Требуется еще тщательное проектирование (например, на основе теории нормализации).

Многоуровневая архитектура СУБД имеет более сложную организацию, чем средства обработки файлов, но "многослойность" в любой программной системе позволяет сделать более качественной разработку и развитие системы, т. к. изменения на одном уровне (слое) не касаются изменений на другом и требуются лишь изменения одного слоя и связующего звена.

__DEF.__ Дадим более развернутое определение БД:

__БД__ - организованная совокупность взаимосвязанных данных, предназначенных для многократного использования многими пользователями и/или приложениями при наличии такой минимальной избыточности, которая гарантирует эффективную обработку больших массивов данных и благодаря наличию общего управляющего механизма (СУБД) позволяет осуществлять реорганизацию и реструктуризацию данных без внесения изменений в исходный код ранее отлаженных программ, работающих с прежней структурой данных.

## Функции СУБД

### Основные функции ядра СУБД

__DEF. СУБД__ - специализированное ПО по типу оболочек, инструментальных сред, наследующее в себе черты как системного, так и прикладного ПО и предоставляющее пользователю средства (сверх)высокого уровня для эффективной обработки и поиска в больших массивах данных в терминах предметной области.

Черты системного ПО в СУБД проявляются в том, что СУБД обычно недостаточно функций ОС по обработке больших массивов данных (по обработке файлов больших размеров), и несмотря на то, что, как любая прикладная программа, СУБД - надстройка над ОС, СУБД подменяет часть функций ОС по обработке файлов, а именно: ядро СУБД (недоступно конечному пользователю) реализует следующие основные функции, присущие ОС:

- буферизация данных
- индексация данных
- журнализация данных
- поддержка транзакций

Все эти функции необходимы для работы БД.

Ядро СУБД позволяет в случае настольных СУБД реализовать часть, а в случае клиент-серверных СУБД - все необходимые составляющие поддержки транзакций.

### Основные функции СУБД

- Поддержка одной или нескольких __моделей данных (МД)__, т. е. _допустимых структур, ограничений целостности и операций_, причем в терминах, не зависящих от специфики решаемой задачи и предметной области. Таким образом, модели данных носят универсальный характер.

Выделяют т. н. __синтаксические__ (традиционные) модели данных: иерархическая модель данных, сетевая МД, реляционная МД; и семантические модели данных (общепризнанных распространенных около 30, например: ER-модель Чена (entity relation), бинарная модель данных и целый класс моделей на семантических сетях (когда вершинам и дугам графа сети приписываются понятия, абстрактные или конкретные, и имеется встроенный механизм их интерпретации)).

- Поддержка набор высокоуровневых языков для описания данных (ЯОД), манипулирования данными (ЯМД) и запросов (ЯЗ). Современные СУБД объединяют эти три языка в рамках одного языка (чаще всего SQL-подобного).

- Поддержка логической и физической независимости данных (см. лекцию о многоуровневой архитектуре СУБД).

- Поддержка транзакций.

#### Транзакции

__Транзакция__ - целая совокупность (набор) отдельных действий над БД, которая рассматривается системой как единая логически неделимая единица работы (как одна операция, результаты которой либо зафиксированы во внешней памяти, либо в случае недоступности сервера выполнен откат всех выполненных действий до момента начала транзакции).

СУБД поддерживает функции ACID транзакций засчет ядра СУБД.

__ACID__:

- atomacity
- consistency
- isolation
- durability (надежность)

Эффективная обработка больших массивов данных (и поиск в них).

СУБД при помощи поддержки ACID переводит в БД из одного непротиворечивого и целостного состояния в другое (с сохранением непротиворечивости и целостности).

#### Поддержка ограничений целостности хранимых процедур и триггеров

__DEF. Ограничения целостности__ - правила, специфицирующие те ограничения, которым должны удовлетворять данные при выполнении любой операции над ними. Спецификация содержится в схеме БД, а не в прикладной программе.

В качестве ограничений необязательно писать неизменные правила: изменение в их описании в схеме позволит не вносить изменения в исходном коде программы.

Ограничения бывают явные и неявные (зашитые в саму структуру БД).

Если СУБД не имеет некоторых нужных встроенных ограничений целостности, то разработчик может их запрограммировать в виде хранимых процедур или триггеров.

#### Хранимые процедуры

Stored procedure (хранимая процедура). Хранится в схеме БД. Т. к. она хранится в БД, то ее можно вызывать из программы, СУБД или сделать триггером.

__Хранимая процедура__ - процедура, текст которой хранится не в прикладной программе, а хранится в схеме БД (в словаре БД - это тоже обычно таблица).

__Триггер__ - хранимая процедура, которая, в отличие от обычной хранимой процедуры, вызывается неявно, при совершении определенного события (например, вставка, удаление, изменение.

#### Архивация и восстановление

#### Защита данных от несанкцонированного доступа

#### Дружелюбный интерфейс
