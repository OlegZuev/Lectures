# Лекция 7

20.02.20

- [Лекция 7](#Лекция-7)
  - [Обобщенное программирование](#Обобщенное-программирование)
    - [Альтернативные варианты](#Альтернативные-варианты)
    - [Обобщение](#Обобщение)
    - [Терминология](#Терминология)
    - [Ограничения](#Ограничения)
  - [Абстрактные типы данных](#Абстрактные-типы-данных)
    - [Примеры в CSharp](#Примеры-в-csharp)

## Обобщенное программирование

Парадигма программирования, заключающаяся в таком описании данных и алгоритмов, которое можно применять к различным типам данных, не меняя само это описание.

Основано на использовании абстрактных описаний требований (расширении понятия __абстрактного типа данных__).

Вместо описания отдельного типа применяется описание семейства типов, имеющих общий интерфейс и семантическое поведение.

Этапы решения задачи:

1. Найти алгоритм.
2. Определить обобщенное представление.
3. Описать набор минимальных требований, удовлетворяя которым все еще можно получить эффективные алгоритмы.
4. Создать каркас на основе классифицированных требований.

### Альтернативные варианты

1. Перегрузка методов.
2. Использование базового класса (object) с явным приведением.
3. Обобщения.

### Обобщение

Параметризованный тип.

Обобщения позволяют создавать классы, структуры, интерфейсы, методы и делегаты для обработки разнотипных данных с соблюдением типовой безопасности.

Класс, структура, интерфейс, метод или делегат, оперирующий параметризированным типом данных, называется __обобщенным__.

### Терминология

- Gen\<int\> - закрыто сконструированный тип.
- Gen\<T\> - открыто сконструированный тип.
- int - закрытый тип.
- T - открытый тип (включает параметр).
- Если все аргументы типа закрытые, то такой тип - закрыто сконструированный. Если хотя бы 1 открытый, то открыто сконструированный.

### Ограничения

Ограниченные типы: ограничения на базовый класс.

- class Class\<T\> where T : Interface
- class Class\<T\> where T : new() - позволяет получать объекты типа.
- class Class\<T\> where T : struct - ограничение на значимые типы.
- class Class\<T\> where T : class - ограничение на ссылочные типы.

## Абстрактные типы данных

__Абстрактные типы данных__ - тип данных, который предоставляет для работы с элементами этого типа определенный набор функций, а также возможность создавать элементы этого типа при помощи специальных функций.

Примеры: список, стек, очередь, ассоциативный массив.

### Примеры в CSharp

Базовый интерфейс для всех - IEnumerable\<T\>. В нем определен метод GetEnumerator(). Это позволяет использовать цикл foreach.

ICollection\<T\>. CopyTo(), Add(), Remove(), Contains(), Count.

- Dictionary<TKey, TValue>
- HashSet\<T\>
- LinkedList\<T\> (двусвязный список)
- List\<T\> : IEnumerable, ICollection, IList
- Queue\<T\> : IEnumerable, ICollection
- SortedSet\<T\>
- Stack\<T\> : IEnumerable, ICollection
- ...
